<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv='cache-control' content='no-cache'> 
  <meta http-equiv='expires' content='0'> 
  <meta http-equiv='pragma' content='no-cache'>
  <title>Universal Link Redirect</title>
  <style>
    #openAppButton {
      display: none;
      padding: 10px 20px;
      font-size: 16px;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
    #userAgentInfo {
      padding: 10px;
      margin: 20px;
      background-color: #f1f1f1;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-family: monospace;
      white-space: pre-wrap;
      word-break: break-all;
    }
  </style>
</head>
<body>
  <div id="userAgentInfo"></div>
  <button id="openAppButton" onclick="window.location.href = 'https://www.grail.bz/';">
    continue
  </button>

  <script>
    const userAgent = window.navigator.userAgent || '';
    const isIOS = /iPhone|iPad|iPod/i.test(userAgent);
    const isSafari = /safari/i.test(userAgent);
    const isChrome = /crios|chrome/i.test(userAgent);

    if (isIOS) {
      document.getElementById('userAgentDisplay').textContent = userAgent;
      if (isSafari && !isChrome) {
        // If Safari on iOS → automatically open the app using the universal link
        window.location.href = 'https://www.grail.bz/';
      } else {
        // If another browser on iOS (e.g., Chrome) → show button for manual tap
        document.getElementById('openAppButton').style.display = 'inline-block';
      }
    }
    // If not iOS (e.g., Android or desktop) → do nothing
  </script>
</body>
</html>